# Render Deployment Checklist

## Pre-Deployment Verification

- [x] Backend code is production-ready
  - [x] CORS configuration uses environment variable: `FRONTEND_URL`
  - [x] Database logging is disabled in production mode
  - [x] Requirements.txt includes all necessary dependencies
  - [x] Health check endpoint available at root path

- [x] Frontend code is production-ready
  - [x] API URL uses environment variable: `REACT_APP_API_URL`
  - [x] Build script is properly configured in package.json
  - [x] `.env.production` file exists with proper configuration

- [x] Deployment configuration
  - [x] `render.yaml` is properly configured with all services
  - [x] All necessary environment variables are defined
  - [x] Static file paths are correctly specified

## Environment Variables

### Backend (insyte-backend)
- [ ] `DATABASE_URL` - Your Render PostgreSQL connection string
- [ ] `JWT_SECRET` - Secret for JWT token generation (auto-generated by Render)
- [ ] `ENV` - Set to "production"
- [ ] `FRONTEND_URL` - URL of your frontend service (auto-linked by Render)

### Frontend (insyte-frontend)
- [ ] `REACT_APP_API_URL` - URL of your backend service (auto-linked by Render)

## Post-Deployment Tasks

1. [ ] Run database migrations:
   - Add a "one-off job" in Render to run `cd backend && alembic upgrade head`

2. [ ] Verify API connectivity:
   - Check the health endpoint at your backend URL
   - Confirm frontend can communicate with backend

3. [ ] Test authentication flow

4. [ ] Set up monitoring and alerts (optional)

5. [ ] Configure custom domains (optional)

6. [ ] Set up HTTPS redirects (optional)

## Troubleshooting Common Issues

### CORS Issues
If you experience CORS issues, check that the `FRONTEND_URL` environment variable in your backend service is correctly set to your frontend domain.

### Database Connection Issues
- Verify the `DATABASE_URL` format is correct for Render's PostgreSQL
- Check that the database user has appropriate permissions

### Frontend/Backend Connection Issues
- Ensure `REACT_APP_API_URL` points to the correct backend URL
- Test the API endpoints directly using a tool like Postman or curl 